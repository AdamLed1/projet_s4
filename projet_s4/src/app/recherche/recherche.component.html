<link rel="stylesheet" href="recherche.component.css">


<h2 class="h2">Rechercher des maisons</h2>


<div class="container-fluid">

  <div class="container-fluid">
    <form (ngSubmit)="rechercherMaisons(f)" #f="ngForm">
      <div class="form-group">
        <label for="nbPieces">
          Nombre de pièces
        </label>
        <input type="number" id="nbPieces" class="form-control" name="nbPieces" [(ngModel)]="recherche.nb_pieces" style="width: 25%;">
      </div>
      <div class="form-group">
        <label for="ville">
          Ville
        </label>
        <input type="number" id="ville" class="form-control" name="ville" [(ngModel)]="recherche.ville" style="width: 25%;">

        <!--<select id="ville">
          <option [(ngModel)]="recherche.ville" ngValue=1 >Paris</option>
          <option [(ngModel)]="recherche.ville" ngValue=2 >Lyon</option>
          <option [(ngModel)]="recherche.ville" ngValue=3 >Marseille</option>
        </select>-->
      </div>
      <div class="form-group">
        <label for="surf_hab_min">
          Surface habitable minimale
        </label>
        <input type="number" id="surf_hab_min" class="form-control" name="surf_hab_min" [(ngModel)]="recherche.surface_hab_min" style="width: 25%;">
      </div>
      <div class="form-group">
        <label for="surf_jard_min">
          Surface du jardin minimale
        </label>
        <input type="text" id="surf_jard_min" class="form-control" name="surf_jard_min" [(ngModel)]="recherche.surface_jard_min" style="width: 25%;">
      </div>
      <div class="form-group">
        <label for="prix_max">
          Prix maximum
        </label>
        <input type="number" id="prix_max" class="form-control" name="prix_max" [(ngModel)]="recherche.prix_max" style="width: 25%;">
      </div>
      <div class="form-group">
        <label for="voisin">
          Voisin
        </label>
        <input type="number" id="voisin" class="form-control" name="voisin" [(ngModel)]="recherche.voisinage" style="width: 25%;">
        <!--<input [(ngModel)]="recherche.voisinage" type="radio" id="voisin" value=1 class="form-control" name="voisin" style="width: 25%;">
        <label for="voisin">Voisin</label>
        <input [(ngModel)]="recherche.voisinage" type="radio" id="sansVoisin" value=0 class="form-control" name="voisin" style="width: 25%;">
        <label for="sansVoisin">Sans voisin</label>-->
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="f.invalid">Ajouter</button>

    </form>
  </div>


  <!-- AFFICHAGE LISTE DES MAISONS-->
  <div class="container-fluid" *ngIf="maisons != []">
    <div class="row">
      <div class="container-fluid">
        <div *ngif="error">{{error}}</div>
        <div *ngIf="success">{{success}}</div>

        <div *ngFor="let maison of maisons" class="col-md-3 maisons">
          <img class="card-img-top" src="{{maison.url}}" alt="image de la maison" style = "height:200px; width:300px; border-radius: 5px;"/>

          <h6 class="card-title"> Prix : {{maison.prix}} €</h6>
          <p class="card-text">{{maison.description}}</p>

          <a [routerLink]="[maison.id_maison]" id="plus">Plus</a>

        </div>
      </div>
    </div>
  </div>
</div>
